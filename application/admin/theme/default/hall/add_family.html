{extend name='common/content' /}

{block name='content'}
<form name="article" class="layui-form layui-box" style='padding:25px 30px 20px 0' action="__SELF__" data-auto="true" method="post">

    <div class="layui-tab">
        <div class="layui-tab-content">
            <div class="layui-tab-item layui-show">

                <div class="layui-form-item">
                    <label class="layui-form-label">纪念馆名称</label>
                    <div class="layui-input-block">
                        <input type="text" name="hall_name" value='{$vo.hall_name|default=""}' required="required" title="请输入纪念馆名称" placeholder="请输入纪念馆名称" class="layui-input">
                    </div>
                </div>

                <div class="layui-form-item">
                    <label class="layui-form-label">纪念馆风格</label>
                    <div class="layui-input-block">
                        <select name='hall_style' class='layui-select full-width'>
                            <option value="">请选择纪念馆风格</option>
                            {foreach $hallStyle as $key=>$v}
                            <option>{$v.name}</option>
                            {foreach $v.hall_style as $sKey=>$hallStyle}
                            <option value="{$hallStyle.id}" {eq name='hallStyle.id' value="$vo.hall_style|default=0"}selected="selected"{/eq}>&nbsp;&nbsp;|- {$hallStyle.style_name}</option>
                            {/foreach}
                            {/foreach}
                        </select>
                    </div>
                </div>

                <div class="layui-form-item">
                    <label class="layui-form-label">祭拜大厅风格</label>
                    <div class="layui-input-block">
                        <select name='hall_worship_style' class='layui-select full-width'>
                            <option value="">请选择祭拜大厅风格</option>
                            {foreach $hallWorshipStyle as $key=>$v}
                            <option>{$v.name}</option>
                            {foreach $v.hall_worship_style as $hallWorshipStyle}
                            <option value="{$hallWorshipStyle.id}" {eq name='hallWorshipStyle.id' value="$vo.hall_worship_style|default=0"}selected = "selected"{/eq}>&nbsp;&nbsp;|- {$hallWorshipStyle.style_name}</option>
                            {/foreach}
                            {/foreach}
                        </select>
                    </div>
                </div>

                <div class="layui-form-item">
                    <label class="layui-form-label">音乐</label>
                    <div class="layui-input-block">
                        <select name='hall_music' class='layui-select full-width'>
                            <option value="">请选择音乐</option>
                            {foreach $hallMusic as $key=>$v}
                            <option value='{$v.id}' {eq name='v.id' value="$vo.hall_music|default=0"}selected = "selected"{/eq}>{$v.music_name}</option>
                            {/foreach}
                        </select>
                    </div>
                </div>

                <div class="layui-form-item">
                    <label class="layui-form-label">生平事迹</label>
                    <div class="layui-input-block">
                        <textarea placeholder="请输入生平事迹" title="请输入生平事迹" class="layui-textarea" name="hall_describe">{$vo.hall_describe|default=""}</textarea>
                    </div>
                </div>

                <div class="layui-form-item">
                    <label class="layui-form-label">需要密码</label>
                    <div class="layui-input-block is_need_password">
                        {if isset($vo.is_need_password)}
                        {if $vo.is_need_password eq 1}
                        <input type="radio" name="is_need_password" value="1" title="否" checked>
                        <input type="radio" name="is_need_password" value="2" title="是">
                        {else/}
                        <input type="radio" name="is_need_password" value="1" title="否">
                        <input type="radio" name="is_need_password" value="2" title="是" checked>
                        {/if}
                        {else/}
                        <input type="radio" name="is_need_password" value="1" title="否" checked>
                        <input type="radio" name="is_need_password" value="2" title="是">
                        {/if}
                    </div>
                </div>

                <div class="layui-form-item password">
                    <label class="layui-form-label">访问密码</label>
                    <div class="layui-input-block">
                        <input type="password" name="password" value='' required="required" title="请输入访问密码" placeholder="请输入访问密码" class="layui-input">
                    </div>
                </div>

                <div class="layui-form-item password">
                    <label class="layui-form-label">访问密码</label>
                    <div class="layui-input-block">
                        <input type="password" name="call_password" value='' required="required" lay-verify="password" title="请确认访问密码" placeholder="请确认访问密码" class="layui-input">
                    </div>
                </div>

                <div class="layui-form-item">
                    <label class="layui-form-label">可见状态</label>
                    <div class="layui-input-block">
                        {if isset($vo.is_visible)}
                        {if $vo.is_visible eq 1}
                        <input type="radio" name="is_visible" value="1" title="所有人可见" checked>
                        <input type="radio" name="is_visible" value="2" title="仅自己可见">
                        {else/}
                        <input type="radio" name="is_visible" value="1" title="所有人可见">
                        <input type="radio" name="is_visible" value="2" title="仅自己可见" checked>
                        {/if}
                        {else/}
                        <input type="radio" name="is_visible" value="1" title="所有人可见" checked>
                        <input type="radio" name="is_visible" value="2" title="仅自己可见">
                        {/if}
                    </div>
                </div>

                <div class="layui-form-item">
                    <label class="layui-form-label">纪念馆状态</label>
                    <div class="layui-input-block">
                        {if isset($vo.hall_status)}
                        {if $vo.hall_status eq 1}
                        <input type="radio" name="hall_status" value="1" title="正常" checked>
                        <input type="radio" name="hall_status" value="2" title="锁定">
                        {else/}
                        <input type="radio" name="hall_status" value="1" title="正常">
                        <input type="radio" name="hall_status" value="2" title="锁定" checked>
                        {/if}
                        {else/}
                        <input type="radio" name="hall_status" value="1" title="正常" checked>
                        <input type="radio" name="hall_status" value="2" title="锁定">
                        {/if}
                    </div>
                </div>

                <div class="layui-form-item">
                    <label class="layui-form-label">主题名称</label>
                    <div class="layui-input-block">
                        <input type="text" name="family_theme" value='{$vo.family_theme|default=""}' required="required" title="请输入主题名称" placeholder="请输入主题名称" class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">纪念馆类型</label>
                    <div class="layui-input-block">
                        <label style="padding-top: 6px;font-size: 15px;color: #FF5722;">
                            家族馆
                        </label>
                    </div>
                </div>

                <div class="layui-form-item">
                    <label class="layui-form-label">灵牌样式</label>
                    <div class="layui-input-block">
                        <select name='family_lingpai_style' class='layui-select full-width'>
                            <option value="">请选择灵牌样式</option>
                            {foreach $lingpaiStyle as $key=>$vi}
                            <option {eq name='vi.id' value="$vo.family_lingpai_style|default=0"}selected="selected"{/eq}  value='{$vi.id}'>{$vi.style_name}</option>
                            {/foreach}
                        </select>
                    </div>
                </div>

                <div class="layui-form-item">
                    <label class="layui-form-label">立碑人</label>
                    <div class="layui-input-block">
                        <input type="text" name="family_libeiren" value='{$vo.family_libeiren|default=""}' title="请输入立碑人名称" placeholder="请输入立碑人名称" class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">家族祖籍</label>
                    <div class="layui-input-block">
                        <input type="text" name="family_ancestral_home" value='{$vo.family_ancestral_home|default=""}' title="请输入家族祖籍" placeholder="请输入家族祖籍" class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">家族精神</label>
                    <div class="layui-input-block">
                        <input type="text" name="family_spirit" value='{$vo.family_spirit|default=""}' title="请输入家族精神" placeholder="请输入家族精神" class="layui-input">
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="hr-line-dashed"></div>
    <div class="layui-form-item text-center">
        {if isset($vo['id'])}<input type='hidden' value='{$vo.id}' name='id'/>{/if}
        <button class="layui-btn" lay-submit="" lay-filter="submit">保存数据</button>
        <button data-open='{:url("$classuri/hallFamily")}' class="layui-btn layui-btn-danger" type='reset'>返回列表</button>
    </div>

</form>

<script>window.form.render();</script>

<script>
    layui.use(['form', 'laydate', 'element'], function(){
        var form = layui.form
            ,layer = layui.layer
            ,laydate = layui.laydate
            ,element = layui.element; //选项卡 依赖element 模块

        if($("input[name='is_need_password']:checked").val() == 1){
            $(".password").hide();
        }
        $(".is_need_password").click(function () {
            if($("input[name='is_need_password']:checked").val() == 2){
                $(".password").show();
            }else{
                $(".password").hide();
            }
        });
    });
</script>

{/block}

